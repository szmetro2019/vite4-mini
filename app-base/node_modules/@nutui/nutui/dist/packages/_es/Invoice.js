/*!
* @nutui/nutui v3.3.8 Mon Jun 12 2023 11:24:18 GMT+0800 (中国标准时间)
* (c) 2022 @jdf2e.
* Released under the MIT License.
*/
import { ref, reactive, computed, onMounted, watch, toRefs, resolveComponent, openBlock, createElementBlock, normalizeClass, createVNode, withCtx, Fragment, renderList, createBlock, createTextVNode, toDisplayString, withDirectives, vModelText, createCommentVNode } from "vue";
import { c as createComponent } from "./component.js";
import { _ as _export_sfc } from "./plugin-vue_export-helper.js";
import "../locale/lang";
const { componentName, create } = createComponent("invoice");
const _sfc_main = create({
  props: {
    data: {
      type: Array,
      default: () => []
    },
    formValue: {
      type: Object,
      default: {}
    },
    submit: {
      type: Boolean,
      default: true
    }
  },
  emits: ["onSubmit", "scroll-bottom"],
  setup(props, { emit }) {
    const formRef = ref();
    const list = ref([]);
    const state = reactive({});
    const classes = computed(() => {
      const prefixCls = componentName;
      return {
        [prefixCls]: true
      };
    });
    onMounted(() => {
      init();
    });
    const init = () => {
      list.value = props.data;
    };
    const submit = () => {
      formRef.value.validate().then(({ valid, errors }) => {
        emit("onSubmit", valid, errors);
      });
    };
    watch(
      () => props.data,
      () => init(),
      { deep: true }
    );
    return {
      ...toRefs(state),
      classes,
      formRef,
      list,
      submit
    };
  }
});
const _hoisted_1 = ["placeholder", "onUpdate:modelValue"];
const _hoisted_2 = {
  key: 0,
  class: "nut-invoice__submit"
};
const _hoisted_3 = /* @__PURE__ */ createTextVNode("\u63D0\u4EA4\u5BA1\u6279");
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_nut_radio = resolveComponent("nut-radio");
  const _component_nut_radiogroup = resolveComponent("nut-radiogroup");
  const _component_nut_form_item = resolveComponent("nut-form-item");
  const _component_nut_form = resolveComponent("nut-form");
  const _component_nut_button = resolveComponent("nut-button");
  return openBlock(), createElementBlock("view", {
    class: normalizeClass(_ctx.classes)
  }, [
    createVNode(_component_nut_form, {
      "model-value": _ctx.formValue,
      ref: "formRef"
    }, {
      default: withCtx(() => [
        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.list, (item, index2) => {
          return openBlock(), createBlock(_component_nut_form_item, {
            key: index2,
            label: item.label,
            required: item.required,
            rules: item.rules,
            prop: item.formItemProp
          }, {
            default: withCtx(() => [
              item.type === "radio" ? (openBlock(), createBlock(_component_nut_radiogroup, {
                key: 0,
                modelValue: _ctx.formValue[item.formItemProp],
                "onUpdate:modelValue": ($event) => _ctx.formValue[item.formItemProp] = $event
              }, {
                default: withCtx(() => [
                  (openBlock(true), createElementBlock(Fragment, null, renderList(item.radioLabel, (radioItem, radioIndex) => {
                    return openBlock(), createBlock(_component_nut_radio, {
                      key: radioIndex,
                      shape: "button",
                      label: radioItem.label
                    }, {
                      default: withCtx(() => [
                        createTextVNode(toDisplayString(radioItem.label), 1)
                      ]),
                      _: 2
                    }, 1032, ["label"]);
                  }), 128))
                ]),
                _: 2
              }, 1032, ["modelValue", "onUpdate:modelValue"])) : withDirectives((openBlock(), createElementBlock("input", {
                key: 1,
                class: "nut-input-text",
                placeholder: item.placeholder,
                "onUpdate:modelValue": ($event) => _ctx.formValue[item.formItemProp] = $event,
                type: "text"
              }, null, 8, _hoisted_1)), [
                [vModelText, _ctx.formValue[item.formItemProp]]
              ])
            ]),
            _: 2
          }, 1032, ["label", "required", "rules", "prop"]);
        }), 128))
      ]),
      _: 1
    }, 8, ["model-value"]),
    _ctx.submit ? (openBlock(), createElementBlock("div", _hoisted_2, [
      createVNode(_component_nut_button, {
        type: "primary",
        block: "",
        onClick: _ctx.submit
      }, {
        default: withCtx(() => [
          _hoisted_3
        ]),
        _: 1
      }, 8, ["onClick"])
    ])) : createCommentVNode("", true)
  ], 2);
}
var index = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export { index as default };
